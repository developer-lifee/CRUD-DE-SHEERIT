<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Detalles del Usuario</title>
    <link rel="stylesheet" href="./styles.css">
</head>
<body>
    <div class="banner">
        <a href="./index.html" class="button">Volver</a>
        <h1>Detalles del Usuario</h1>
    </div>
    <div id="detalles-container">
        <h2 id="usuario-nombre"></h2>
        <table>
            <thead>
                <tr>
                    <th>Correo</th>
                    <th>Clave</th>
                    <th>Nombre de Cuenta</th>
                    <th>Precio</th>
                    <th>Método de Pago</th>
                </tr>
            </thead>
            <tbody id="tabla-cuentas">
                <!-- Las cuentas del usuario se llenarán aquí con JavaScript -->
            </tbody>
        </table>
    </div>
    <script src="./detallesUsuario.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const urlParams = new URLSearchParams(window.location.search);
            const clienteID = urlParams.get('clienteID');

            fetch(`obtenerDetallesUsuario.php?clienteID=${clienteID}`)
                .then(response => response.json())
                .then(data => {
                    document.getElementById('usuario-nombre').textContent = data.nombre;
                    const cuentas = data.cuentas;
                    const tbody = document.getElementById('tabla-cuentas');
                    cuentas.forEach(cuenta => {
                        const tr = document.createElement('tr');
                        tr.innerHTML = `
                            <td>${cuenta.correo}</td>
                            <td>${cuenta.clave}</td>
                            <td>${cuenta.nombre_cuenta}</td>
                            <td>${cuenta.precio}</td>
                            <td>${cuenta.metodo_pago}</td>
                        `;
                        tbody.appendChild(tr);
                    });
                });
        });
    </script>
</body>
</html>